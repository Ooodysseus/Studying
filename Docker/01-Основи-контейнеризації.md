# 01. Основи контейнеризації

## Що таке Docker і для чого він потрібен

Docker - це платформа з відкритим кодом, яка дозволяє автоматизувати розгортання, масштабування та управління додатками в контейнерах. Контейнери дозволяють розробникам упакувати додаток з усіма його залежностями в стандартизовану одиницю для розробки програмного забезпечення.

### Ключові переваги Docker:

1. **Ізоляція**: Кожен контейнер працює ізольовано від хост-системи та інших контейнерів.
2. **Портативність**: Контейнери можуть працювати на будь-якій системі, де встановлений Docker.
3. **Ефективність**: Контейнери використовують менше ресурсів порівняно з віртуальними машинами.
4. **Швидкість**: Запуск та зупинка контейнерів відбувається за секунди.
5. **Консистентність**: Середовище розробки, тестування та виробництва залишаються ідентичними.

### Реальні сценарії використання:

-   **Мікросервісна архітектура**: Розгортання кожного сервісу в окремому контейнері.
-   **Локальна розробка**: Створення ідентичного середовища розробки для всієї команди.
-   **Continuous Integration/Deployment**: Автоматизація процесів збірки та розгортання.
-   **Тестування**: Ізольоване середовище для тестів без впливу на основну систему.

> **Важливо!** Docker не є віртуальною машиною. Контейнери використовують ядро хост-системи, а не емулюють повну операційну систему.

## Відмінності між контейнерами та віртуальними машинами

### Віртуальні машини (VM):

-   Емулюють повну операційну систему включно з ядром
-   Потребують значно більше ресурсів (пам'ять, процесор, диск)
-   Запускаються повільніше (хвилини)
-   Повна ізоляція на рівні апаратного забезпечення
-   Керуються гіпервізором (Hyper-V, VMware, VirtualBox)

### Контейнери:

-   Використовують ядро хост-системи
-   Легкі та ефективні (займають мегабайти, а не гігабайти)
-   Запускаються майже миттєво (секунди)
-   Ізоляція на рівні процесів
-   Керуються контейнерним рушієм (Docker Engine)

### Порівняльна схема:

```
+----------------------+     +----------------------+
| Додаток A | Додаток B |     | Додаток A | Додаток B |
+----------------------+     +----------------------+
| Бібліотеки/залежності|     |     Гостьова ОС 1    |
+----------------------+     +----------------------+
|   Docker Engine      |     |     Гостьова ОС 2    |
+----------------------+     +----------------------+
|     Хост ОС          |     |      Гіпервізор      |
+----------------------+     +----------------------+
|      Сервер          |     |        Сервер        |
+----------------------+     +----------------------+
     Контейнери                 Віртуальні машини
```

> **Порада:** Використовуйте контейнери для максимальної ефективності, коли потрібна швидкість та економія ресурсів. Використовуйте віртуальні машини, коли вам потрібна повна ізоляція на рівні операційної системи та ядра.

### Типові проблеми та їх вирішення:

1. **Проблема**: Додаток працює на локальному комп'ютері, але не працює на сервері.
   **Рішення**: Використання контейнерів забезпечує однакове середовище всюди.

2. **Проблема**: Різні залежності для різних проектів конфліктують між собою.
   **Рішення**: Кожен проект у своєму контейнері з власними залежностями.

3. **Проблема**: Складна налаштування середовища для нових розробників.
   **Рішення**: Один Dockerfile, який налаштовує все середовище автоматично.

## Найкращі практики

1. **Використовуйте Docker для ізоляції додатків**, а не для ізоляції операційних систем.
2. **Віддавайте перевагу контейнерам перед VM** для мікросервісів та додатків, які не потребують повної ізоляції.
3. **Поєднуйте підходи**: використовуйте Docker контейнери всередині віртуальних машин для багаторівневої безпеки в критичних системах.
4. **Пам'ятайте про безпеку**: контейнери менш ізольовані, ніж VM, тому враховуйте це при розробці системи безпеки.
5. **Моніторинг**: відстежуйте контейнери, їхні ресурси та поведінку для запобігання проблем.
