# Оптимізація SQL-запитів

## Зміст розділу

-   [Вступ до оптимізації SQL-запитів](#вступ-до-оптимізації-sql-запитів)
-   [Розуміння плану виконання запиту](#розуміння-плану-виконання-запиту)
-   [Оптимізація простих запитів](#оптимізація-простих-запитів)
-   [Оптимізація складних запитів](#оптимізація-складних-запитів)
-   [Індексація для аналітичних запитів](#індексація-для-аналітичних-запитів)
-   [Оптимізація з'єднань таблиць](#оптимізація-зєднань-таблиць)
-   [Оптимізація агрегатних запитів](#оптимізація-агрегатних-запитів)
-   [Оптимізація підзапитів](#оптимізація-підзапитів)
-   [Матеріалізовані представлення та кешування](#матеріалізовані-представлення-та-кешування)
-   [Практичні стратегії оптимізації](#практичні-стратегії-оптимізації)
-   [Специфічні рекомендації для різних СУБД](#специфічні-рекомендації-для-різних-субд)

## Вступ до оптимізації SQL-запитів

[Буде наповнено: важливість оптимізації, вплив на продуктивність, баланс між читабельністю та швидкістю]

### Проблеми продуктивності в аналітичних запитах

[Буде наповнено: типові проблеми, їх причини та наслідки]

### Загальний підхід до оптимізації

[Буде наповнено: методологія оптимізації, послідовність дій]

## Розуміння плану виконання запиту

### Що таке план виконання

[Буде наповнено: визначення, компоненти, інтерпретація]

### Отримання плану виконання

[Буде наповнено: EXPLAIN, EXPLAIN PLAN, SHOW PLAN, особливості в різних СУБД]

### Аналіз плану виконання

[Буде наповнено: типи сканувань, порядок операцій, вартість операцій]

### Інструменти візуалізації планів

[Буде наповнено: графічні інструменти для різних СУБД]

## Оптимізація простих запитів

### Оптимізація SELECT

[Буде наповнено: вибір необхідних стовпців, уникнення SELECT *]

### Оптимізація WHERE

[Буде наповнено: правильне формулювання умов, використання індексів]

### Оптимізація ORDER BY

[Буде наповнено: використання індексів для сортування, обмеження кількості рядків]

### Оптимізація DISTINCT

[Буде наповнено: альтернативи, вплив на продуктивність]

## Оптимізація складних запитів

### Розбиття складних запитів

[Буде наповнено: декомпозиція запитів, тимчасові таблиці]

### Використання CTE замість підзапитів

[Буде наповнено: переваги WITH, приклади оптимізації]

### Переписування вкладених запитів

[Буде наповнено: перетворення підзапитів у JOIN]

### Оптимізація віконних функцій

[Буде наповнено: ефективне використання PARTITION BY, ORDER BY]

## Індексація для аналітичних запитів

### Типи індексів для аналітики

[Буде наповнено: B-tree, bitmap, покриваючі індекси, колонкові індекси]

### Стратегії індексації

[Буде наповнено: вибір стовпців для індексації, аналіз запитів, баланс індексів]

### Проблема надлишкової індексації

[Буде наповнено: вплив на вставку/оновлення, пошук надлишкових індексів]

### Часткові та функціональні індекси

[Буде наповнено: оптимізація для конкретних запитів, приклади]

## Оптимізація з'єднань таблиць

### Типи з'єднань та їх продуктивність

[Буде наповнено: особливості різних типів JOIN, вибір оптимального типу]

### Оптимізація умов з'єднання

[Буде наповнено: порядок таблиць, індексація ключів, перетворення зовнішніх з'єднань]

### Уникнення декартових добутків

[Буде наповнено: виявлення та усунення ненавмисних CROSS JOIN]

### З'єднання великих таблиць

[Буде наповнено: стратегії для роботи з великими обсягами даних]

## Оптимізація агрегатних запитів

### Оптимізація GROUP BY

[Буде наповнено: індексація для групування, попереднє фільтрування]

### Оптимізація агрегатних функцій

[Буде наповнено: альтернативні підходи для COUNT, SUM, AVG]

### Оптимізація HAVING

[Буде наповнено: зменшення кількості груп, попередня фільтрація]

### Комбінування фільтрації та агрегації

[Буде наповнено: оптимальна послідовність операцій]

## Оптимізація підзапитів

### Заміна підзапитів на JOIN

[Буде наповнено: випадки коли JOIN ефективніший, приклади перепису]

### Оптимізація корельованих підзапитів

[Буде наповнено: стратегії оптимізації, перетворення у некорельовані]

### Матеріалізація підзапитів

[Буде наповнено: тимчасові таблиці, CTE, приклади]

### Виведення підзапитів назовні

[Буде наповнено: перетворення вкладених запитів, приклади]

## Матеріалізовані представлення та кешування

### Концепція матеріалізованих представлень

[Буде наповнено: визначення, переваги, недоліки]

### Створення та використання

[Буде наповнено: синтаксис, стратегії оновлення, приклади]

### Інкрементальне оновлення

[Буде наповнено: стратегії ефективного оновлення даних]

### Альтернативи в різних СУБД

[Буде наповнено: аналоги в СУБД, що не підтримують матеріалізовані представлення]

## Практичні стратегії оптимізації

### Аналіз продуктивності запитів

[Буде наповнено: метрики продуктивності, інструменти аналізу]

### Використання тимчасових таблиць

[Буде наповнено: коли використовувати, переваги, синтаксис]

### Партиціювання даних

[Буде наповнено: горизонтальне та вертикальне партиціювання, стратегії]

### Пакетна обробка

[Буде наповнено: обробка даних блоками, зменшення навантаження]

### Кешування та повторне використання результатів

[Буде наповнено: стратегії кешування, коли застосовувати]

## Специфічні рекомендації для різних СУБД

### MySQL/MariaDB

[Буде наповнено: специфічні оптимізації, налаштування, індексація]

### PostgreSQL

[Буде наповнено: специфічні оптимізації, статистика, планувальник]

### Oracle

[Буде наповнено: підказки, аналіз плану, специфічні функції]

### SQL Server

[Буде наповнено: індексовані представлення, статистика, оптимізатор]

### SQLite

[Буде наповнено: обмеження, оптимізації для вбудованих СУБД]

### Великі дані та аналітичні платформи

[Буде наповнено: особливості оптимізації в Redshift, BigQuery, Snowflake]

## Висновки

[Буде наповнено: підсумки теми, ключові ідеї та концепції, зв'язок з наступними темами]

---

**Попередня тема:** [SQL для аналізу даних: просунутий рівень](./14_sql_просунутий.md)

**Наступна тема:** [Принципи ефективної візуалізації](./16_принципи_візуалізації.md)
