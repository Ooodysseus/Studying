## 3.4. Modern JavaScript

### Modules (import/export)

Модулі (modules) дозволяють розділяти код на частини для повторного використання та ізоляції.

```js
// math.js
export function add(a, b) {
    return a + b;
}
// main.js
import { add } from "./math.js";
console.log(add(2, 3));
```

-   `export` — експорт функцій, змінних, класів.
-   `import` — імпорт з іншого файлу.
-   Працює у сучасних браузерах та Node.js.

---

### Destructuring

Деструктуризація (destructuring) — зручний спосіб "розпаковки" об'єктів та масивів.

```js
const user = { name: "Anna", age: 28 };
const { name, age } = user;
const fruits = ["apple", "banana", "cherry"];
const [first, second] = fruits;
```

-   Можна задавати значення за замовчуванням.

---

### Spread and Rest Operators

Оператори spread/rest (`...`) — для копіювання, об'єднання, збору аргументів.

```js
const arr1 = [1, 2];
const arr2 = [...arr1, 3, 4]; // spread
function sum(...nums) {
    // rest
    return nums.reduce((a, b) => a + b, 0);
}
```

-   Spread — "розпаковує" масив/об'єкт.
-   Rest — "збирає" аргументи у масив.

---

### Template Literals

Template literals — рядки з підстановкою змінних та багаторядковим текстом.

```js
const name = "Anna";
const message = `Hello, ${name}!`;
```

-   Використовуйте `` `...${variable}...` ``.
-   Підтримує багаторядковість.

---

### Arrow Functions

Стрілочні функції (arrow functions) — короткий синтаксис для функцій.

```js
const sum = (a, b) => a + b;
const greet = (name) => `Hi, ${name}`;
```

-   Не мають власного `this`.
-   Зручно для коротких функцій, callback.

---

### Map, Set, WeakMap, WeakSet

Сучасні структури даних для роботи з колекціями.

```js
const map = new Map();
map.set("key", 123);
console.log(map.get("key"));

const set = new Set([1, 2, 3, 2]);
console.log(set.has(2)); // true
```

-   `Map` — ключ-значення, будь-який тип ключа.
-   `Set` — унікальні значення.
-   `WeakMap`, `WeakSet` — для "слабких" посилань (не перешкоджають GC).

---

### Generators and Iterators

Генератори (generators) — функції, які можна "призупиняти" і відновлювати.

```js
function* gen() {
    yield 1;
    yield 2;
    yield 3;
}
const iterator = gen();
console.log(iterator.next()); // { value: 1, done: false }
```

-   `function*` — оголошення генератора.
-   `yield` — повертає значення.
-   Ітератори — об'єкти з методом `next()`.

---

### Mermaid Diagram: Modern JS

```mermaid
graph TD
    A[Modules] --> B[import/export]
    C[Destructuring] --> D[{a, b}]
    E[Spread/Rest] --> F[...arr]
    G[Template] --> H[`Hello, ${name}`]
    I[Arrow] --> J[=>]
    K[Map/Set] --> L[Map]
    K --> M[Set]
    K --> N[WeakMap]
    K --> O[WeakSet]
    P[Generators] --> Q[yield]
    P --> R[next()]
```

_Сучасні можливості JavaScript_

---

#### Navigation

-   [Попередня тема: Asynchronous JavaScript](3.3-asynchronous-javascript.md)
-   [Наступна тема: TypeScript Basics](3.5-typescript-basics.md)
