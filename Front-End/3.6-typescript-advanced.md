## 3.6. TypeScript Advanced

### Utility Types

Utility types (утилітарні типи) — вбудовані типи для трансформації інших типів.

```ts
interface User { name: string; age: number; }
const partialUser: Partial<User> = { name: 'Anna' };
const readonlyUser: Readonly<User> = { name: 'Anna', age: 28 };
```
- Найпопулярніші: `Partial`, `Required`, `Readonly`, `Pick`, `Omit`, `Record`.

---

### Declaration Files

Declaration files (файли оголошень) — описують типи для сторонніх бібліотек.

```ts
// example.d.ts
export interface MyLib {
  doSomething(): void;
}
```
- Файли з розширенням `.d.ts`.
- Додають типи для JavaScript-бібліотек.

---

### Namespaces and Modules

Namespaces (простори імен) — групування коду всередині одного файлу.

```ts
namespace MathUtils {
  export function add(a: number, b: number) { return a + b; }
}
console.log(MathUtils.add(2, 3));
```
- Модулі (modules) — сучасний спосіб організації коду через `import`/`export`.

---

### Decorators

Декоратори (decorators) — спеціальні функції для модифікації класів, методів, властивостей.

```ts
function Log(target: any, key: string) {
  console.log(`Called: ${key}`);
}
class Example {
  @Log
  run() {}
}
```
- Потрібно увімкнути `experimentalDecorators` у конфігурації.
- Використовуються у фреймворках (Angular, NestJS).

---

### Advanced Types: Union, Intersection, Conditional

- Union types (об'єднання):

```ts
function printId(id: number | string) {
  // ...
}
```
- Intersection types (перетин):

```ts
interface A { a: number; }
interface B { b: string; }
const obj: A & B = { a: 1, b: 'x' };
```
- Conditional types (умовні):

```ts
type IsString<T> = T extends string ? true : false;
```
- Дозволяють створювати складні типи для гнучкої типізації.

---

### TypeScript Configuration

TypeScript configuration (налаштування) — файл `tsconfig.json` для керування компілятором.

```json
{
  "compilerOptions": {
    "target": "ES2020",
    "module": "ESNext",
    "strict": true,
    "outDir": "./dist",
    "experimentalDecorators": true
  },
  "include": ["src/**/*"]
}
```
- Важливі опції: `strict`, `noImplicitAny`, `esModuleInterop`, `experimentalDecorators`.

---

### Mermaid Diagram: TypeScript Advanced

```mermaid
graph TD
    A[Utility Types] --> B[Partial/Readonly]
    C[Declaration Files] --> D[.d.ts]
    E[Namespaces] --> F[MathUtils]
    G[Modules] --> H[import/export]
    I[Decorators] --> J[@Log]
    K[Union] --> L[number | string]
    M[Intersection] --> N[A & B]
    O[Conditional] --> P[T extends string]
    Q[Config] --> R[tsconfig.json]
```
_Просунуті можливості TypeScript_

---

#### Navigation

- [Попередня тема: TypeScript Basics](3.5-typescript-basics.md)
- [Наступна тема: JavaScript Patterns](3.7-javascript-patterns.md)
