## 4.9. Testing Vue/Nuxt Applications

### Unit Testing with Vitest

Vitest — сучасний фреймворк для юніт-тестування у Vue/Nuxt.

```js
// Counter.spec.ts
import { describe, it, expect } from 'vitest';
describe('Counter', () => {
  it('increments', () => {
    let count = 0;
    count++;
    expect(count).toBe(1);
  });
});
```
- Підтримка TypeScript, швидкий запуск, інтеграція з Vite.

---

### Component Testing

Тестування компонентів — перевірка UI та логіки компонентів.

```js
// MyButton.spec.ts
import { mount } from '@vue/test-utils';
import MyButton from './MyButton.vue';
describe('MyButton', () => {
  it('renders text', () => {
    const wrapper = mount(MyButton, { props: { text: 'Click' } });
    expect(wrapper.text()).toContain('Click');
  });
});
```
- Використовуйте `@vue/test-utils` для рендеру та взаємодії.

---

### End-to-End Testing

E2E-тестування — перевірка додатка "з кінця в кінець".

- Популярні інструменти: Cypress, Playwright.

```js
// example.cy.js
describe('Home page', () => {
  it('shows welcome', () => {
    cy.visit('/');
    cy.contains('Welcome');
  });
});
```
- Тестує реальну поведінку користувача.

---

### Mock Services and API

Мокінг — створення фейкових сервісів та API для тестів.

```js
// Mock API with msw
import { setupServer } from 'msw/node';
import { rest } from 'msw';
const server = setupServer(
  rest.get('/api/user', (req, res, ctx) => {
    return res(ctx.json({ name: 'Anna' }));
  })
);
beforeAll(() => server.listen());
afterAll(() => server.close());
```
- Дозволяє тестувати без реального бекенду.

---

### Mermaid Diagram: Testing Vue/Nuxt

```mermaid
graph TD
    A[Vitest] --> B[unit tests]
    C[Component] --> D[@vue/test-utils]
    E[E2E] --> F[Cypress]
    E --> G[Playwright]
    H[Mock] --> I[msw]
```
_Тестування у Vue/Nuxt_

---

#### Navigation

- [Попередня тема: Nuxt 3 Advanced](4.8-nuxt3-advanced.md)
- [Наступна тема: Performance Optimization](5.1-performance-optimization.md)
