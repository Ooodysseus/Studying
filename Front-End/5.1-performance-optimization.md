## 5.1. Performance Optimization

### Core Web Vitals

Core Web Vitals — ключові метрики продуктивності сайту від Google.

-   Largest Contentful Paint (LCP): швидкість завантаження основного контенту.
-   First Input Delay (FID): час до першої взаємодії.
-   Cumulative Layout Shift (CLS): стабільність макету.

```js
// Lighthouse, Web Vitals Extension для вимірювання
```

-   Впливають на SEO та UX.

---

### Lazy Loading

Lazy loading — відкладене завантаження ресурсів (зображень, компонентів).

```html
<img src="image.jpg" loading="lazy" />
```

```js
// Vue: асинхронний компонент
const AsyncComp = defineAsyncComponent(() => import("./MyComp.vue"));
```

-   Зменшує час першого рендеру.

---

### Code Splitting

Code splitting — розділення коду на частини для швидкого завантаження.

```js
// Webpack, Vite: dynamic import
import('./module.js').then(...);
```

-   Використовуйте для сторінок, великих бібліотек.

---

### Bundle Analysis

Bundle analysis — аналіз розміру та структури збірки.

-   Інструменти: Webpack Bundle Analyzer, Vite Visualizer.

```js
// Webpack
const BundleAnalyzerPlugin =
    require("webpack-bundle-analyzer").BundleAnalyzerPlugin;
// Vite
import { visualizer } from "rollup-plugin-visualizer";
```

-   Допомагає знаходити "важкі" залежності.

---

### Caching Strategies

Caching strategies — оптимізація повторного використання ресурсів.

-   HTTP кешування: `Cache-Control`, `ETag`.
-   Service Worker: кешування для PWA.

```js
// Service Worker
self.addEventListener("fetch", (event) => {
    event.respondWith(
        caches
            .match(event.request)
            .then((response) => response || fetch(event.request))
    );
});
```

-   Використовуйте CDN для статичних ресурсів.

---

### Mermaid Diagram: Performance Optimization

```mermaid
graph TD
    A[Core Web Vitals] --> B[LCP/FID/CLS]
    C[Lazy Loading] --> D[img loading="lazy"]
    E[Code Splitting] --> F[dynamic import]
    G[Bundle Analysis] --> H[Visualizer]
    I[Caching] --> J[Service Worker]
    I --> K[CDN]
```

_Оптимізація продуктивності_

---

#### Navigation

-   [Попередня тема: Testing Vue/Nuxt Applications](4.9-testing-vue-nuxt.md)
-   [Наступна тема: Security](5.2-security.md)
