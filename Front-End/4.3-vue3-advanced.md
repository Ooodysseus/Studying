## 4.3. Vue 3 Advanced

### Custom Directives

Custom directives (кастомні директиви) — розширення стандартних директив для особливих потреб.

```js
// v-focus.js
export default {
    mounted(el) {
        el.focus();
    },
};
// main.js
app.directive("focus", vFocus);
```

-   Використовуйте для роботи з DOM, поведінки елементів.

---

### Plugins

Plugins (плагіни) — розширення функціоналу додатка.

```js
// myPlugin.js
export default {
    install(app) {
        app.config.globalProperties.$hello = () => "Hello!";
    },
};
// main.js
import myPlugin from "./myPlugin";
app.use(myPlugin);
```

-   Додають глобальні методи, компоненти, директиви.

---

### Mixins vs. Composition API

Mixins — спосіб повторного використання логіки через об'єкти.
Composition API — через функції (composables).

```js
// Mixin
const myMixin = {
    data() {
        return { count: 0 };
    },
    methods: {
        increment() {
            this.count++;
        },
    },
};
// Component
export default {
    mixins: [myMixin],
};
```

-   Mixins: можливі конфлікти, складність.
-   Composition API: чистіше, краще для масштабування.

---

### Render Functions and JSX

Render functions — створення UI через функції.
JSX — синтаксис для декларативного опису UI у JS.

```js
// Render function
export default {
  render() {
    return h('button', 'Click me');
  }
};
// JSX
export default {
  render() {
    return <button>Click me</button>;
  }
};
```

-   Дозволяють створювати динамічний UI.
-   Потрібен Babel для JSX.

---

### Transitions and Animations

Transitions (транзішени) — плавна зміна стану елементів.
Animations (анімації) — складні рухи та ефекти.

```html
<template>
    <transition name="fade">
        <div v-if="show">Hello</div>
    </transition>
</template>
<style>
    .fade-enter-active,
    .fade-leave-active {
        transition: opacity 0.5s;
    }
    .fade-enter,
    .fade-leave-to {
        opacity: 0;
    }
</style>
```

-   Підтримка CSS та JS-анімацій.

---

### Teleport Component

Teleport — перенесення елемента у інше місце DOM.

```html
<teleport to="body">
    <div class="modal">Modal Content</div>
</teleport>
```

-   Зручно для модальних вікон, попапів.

---

### Suspense Component

Suspense — відображення "заглушки" під час завантаження асинхронних компонентів.

```html
<Suspense>
    <template #default>
        <AsyncComponent />
    </template>
    <template #fallback>
        <div>Loading...</div>
    </template>
</Suspense>
```

-   Покращує UX при асинхронному рендерингу.

---

### Mermaid Diagram: Vue 3 Advanced

```mermaid
graph TD
    A[Custom Directive] --> B[v-focus]
    C[Plugin] --> D[$hello]
    E[Mixin] --> F[data/methods]
    G[Composition API] --> H[composables]
    I[Render] --> J[h()]
    I --> K[JSX]
    L[Transition] --> M[fade]
    N[Teleport] --> O[body]
    P[Suspense] --> Q[fallback]
```

_Просунуті можливості Vue 3_

---

#### Navigation

-   [Попередня тема: Vue 3 Composition API](4.2-vue3-composition-api.md)
-   [Наступна тема: Vue 3 State Management](4.4-vue3-state-management.md)
