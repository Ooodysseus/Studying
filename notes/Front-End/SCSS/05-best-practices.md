# Best practices, типові помилки, антипатерни

## Вступ

SCSS — потужний інструмент для організації стилів, але його гнучкість може призвести до типових помилок та антипатернів. Дотримання best practices допомагає створювати підтримуваний, масштабований та ефективний CSS-код.

## Best practices

### 1. Модульність

-   Розбивайте стилі на окремі файли: змінні, міксіни, функції, компоненти
-   Використовуйте `@use` та `@forward` для ізоляції

### 2. Групування змінних

-   Зберігайте змінні у окремих файлах
-   Використовуйте карти для темізації

```scss
// _variables.scss
$colors: (
    primary: #0077cc,
    secondary: #f5f5f5,
);
```

### 3. Використання міксінів та функцій

-   Створюйте міксіни для повторюваних фрагментів
-   Функції — для обчислень, генерації значень

### 4. Уникайте надмірної вкладеності

-   Не більше 3 рівнів вкладеності
-   Вкладеність ускладнює підтримку та збільшує специфічність

### 5. Використовуйте placeholder-и для extend

-   Створюйте `%base` класи для спільних стилів

### 6. Документуйте код

-   Додавайте коментарі до складних міксінів, функцій, карт

### 7. Автоматизуйте build-процес

-   Використовуйте автопрефіксер, мініфікацію, linting

## Типові помилки

### 1. Глобальні змінні без ізоляції

-   Призводить до конфліктів у великих проєктах

### 2. Надмірне extend

-   Ускладнює CSS, створює неочікувані залежності

### 3. Вкладеність понад 3 рівні

-   Збільшує специфічність, важко рефакторити

### 4. Дублювання коду

-   Відсутність міксінів, функцій, placeholder-ів

### 5. Відсутність структури

-   Всі стилі в одному файлі — важко підтримувати

### 6. Неочевидна логіка у функціях

-   Побічні ефекти, складна поведінка

### 7. Відсутність автопрефіксів

-   Проблеми у старих браузерах

## Антипатерни

### 1. Глобальні міксіни

-   Міксіни, які змінюють глобальні стилі, ускладнюють підтримку

### 2. Extend для всіх класів

-   Використовуйте extend лише для базових стилів

### 3. Вкладеність для всіх компонентів

-   Вкладеність має бути логічною, не надмірною

### 4. Використання @import замість @use

-   @import застарів, не ізолює модулі

### 5. Відсутність карт для темізації

-   Карти спрощують керування темами

### 6. Відсутність linting

-   Автоматична перевірка стилів допомагає уникати помилок

## Діаграма: типові помилки та best practices

```mermaid
graph TD
    SCSS[SCSS] --> BEST[Best practices]
    SCSS --> ERRORS[Типові помилки]
    SCSS --> ANTI[Антипатерни]
    BEST --> MOD[Модульність]
    BEST --> MIXIN[Міксіни]
    BEST --> FUNC[Функції]
    ERRORS --> EXTEND[Надмірне extend]
    ERRORS --> NEST[Вкладеність > 3]
    ANTI --> GLOBAL[Глобальні міксіни]
    ANTI --> IMPORT[@import]
```

## Таблиця: Best practices vs. Антипатерни

| Best Practice      | Антипатерн               |
| ------------------ | ------------------------ |
| Модульність        | Всі стилі в одному файлі |
| @use/@forward      | @import                  |
| Міксіни, функції   | Дублювання коду          |
| Placeholder-и      | Extend для всіх класів   |
| Групування змінних | Глобальні змінні         |
| Документування     | Відсутність коментарів   |

## Неочевидні приклади

### 1. Карти для темізації

```scss
$themes: (
    light: (
        bg: #fff,
        text: #222,
    ),
    dark: (
        bg: #222,
        text: #fff,
    ),
);

@each $name, $theme in $themes {
    .theme-#{$name} {
        background: map-get($theme, bg);
        color: map-get($theme, text);
    }
}
```

### 2. Міксін для адаптивності

```scss
@mixin responsive($breakpoint) {
    @if $breakpoint == "mobile" {
        @media (max-width: 600px) {
            @content;
        }
    } @else if $breakpoint == "tablet" {
        @media (max-width: 900px) {
            @content;
        }
    }
}

.header {
    @include responsive("mobile") {
        font-size: 18px;
    }
}
```

### 3. Linting SCSS

Використовуйте [stylelint](https://stylelint.io/) для автоматичної перевірки стилів.

## Підводні камені

-   Надмірна генерація класів — великий CSS
-   Відсутність структури — важко підтримувати
-   Extend у медіа-запитах — не працює
-   Глобальні змінні — конфлікти

## Крос-посилання

-   [SCSS: синтаксис](./02-syntax.md)
-   [SCSS: міксіни та функції](./03-mixins-functions-extends.md)
-   [SCSS: умови та цикли](./04-conditions-loops.md)
-   [CSS: best practices](../CSS/10-best-practices.md)

## Підсумок

-   Дотримання best practices — основа підтримуваного SCSS
-   Уникайте типових помилок та антипатернів
-   Використовуйте модульність, міксіни, функції, карти, linting
-   Документуйте код, автоматизуйте build-процес
