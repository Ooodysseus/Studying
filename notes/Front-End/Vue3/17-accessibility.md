# Accessibility: aria, focus

## Фундаментальні механізми доступності у Vue3

Accessibility (доступність) — це набір практик, які дозволяють людям з різними можливостями користуватися додатком. Vue3 надає інструменти для створення доступних компонентів, використовуючи атрибути aria, керування фокусом, навігацію з клавіатури та семантичну розмітку.

---

## Чому accessibility важлива?

-   15% населення має ті чи інші обмеження.
-   Законодавчі вимоги (WCAG, ADA, Section 508).
-   SEO та user experience напряму залежать від доступності.

---

## Основні принципи доступності

-   Сприйнятливість (Perceivable): контент має бути доступний для всіх сенсорних каналів.
-   Керованість (Operable): всі функції мають бути доступні з клавіатури.
-   Зрозумілість (Understandable): інтерфейс має бути простим для розуміння.
-   Надійність (Robust): працювати з різними пристроями та технологіями.

---

## ARIA-атрибути у Vue

ARIA (Accessible Rich Internet Applications) — це набір атрибутів для опису ролей, станів та властивостей елементів.

### Основні атрибути:

-   `aria-label`, `aria-labelledby`, `aria-describedby` — описують елемент для скрінрідерів.
-   `aria-live`, `aria-atomic` — для динамічного контенту.
-   `role` — визначає тип елемента (button, dialog, alert).

#### Приклад:

```vue
<button aria-label="Закрити" @click="close">✖</button>
```

---

## Керування фокусом

Фокус — це активний елемент, який отримує події клавіатури. Доступність вимагає правильного керування фокусом, особливо у діалогах, модальних вікнах, формах.

### Як керувати фокусом у Vue?

-   Використовуйте директиву `v-focus` або `ref` для встановлення фокусу.
-   Переміщайте фокус при відкритті/закритті діалогів.
-   Використовуйте tabindex для керування порядком фокусу.

#### Приклад:

```vue
<input ref="search" tabindex="0" aria-label="Пошук" />
```

---

## Навігація з клавіатури

Всі інтерактивні елементи мають бути доступні з клавіатури:

-   Використовуйте `@keydown`, `@keyup` для обробки подій.
-   Не блокуйте стандартні комбінації клавіш.
-   Всі кнопки, посилання, форми — з tabindex та aria.

#### Приклад:

```vue
<button @keydown.enter="submit" tabindex="0">OK</button>
```

---

## Семантична розмітка

-   Використовуйте HTML5-елементи: `<nav>`, `<main>`, `<header>`, `<footer>`, `<form>`, `<button>`.
-   Уникайте div-обгорток для інтерактивних елементів.

---

## Advanced: динамічний контент, діалоги, списки

-   Динамічний контент — використовуйте `aria-live` для повідомлень.
-   Діалоги — керуйте фокусом, aria-modal, role="dialog".
-   Списки — role="list", aria-labelledby.

---

## Best Practices

-   Всі інтерактивні елементи — з aria-атрибутами.
-   Перевіряйте доступність через Lighthouse, axe, NVDA.
-   Тестуйте навігацію з клавіатури.
-   Використовуйте семантичну розмітку.
-   Не приховуйте важливий контент через CSS.
-   Додавайте альтернативний текст для зображень.
-   Використовуйте контрастні кольори.
-   Оголошуйте помилки у формах через aria-live.

---

## Таблиця: порівняння атрибутів aria

| Атрибут          | Призначення          | Приклад використання            |
| ---------------- | -------------------- | ------------------------------- |
| aria-label       | Опис елемента        | <button aria-label="Закрити">   |
| aria-labelledby  | Зв’язок з елементом  | <div aria-labelledby="title">   |
| aria-describedby | Опис для скрінрідера | <input aria-describedby="desc"> |
| aria-live        | Оновлення контенту   | <div aria-live="polite">        |

---

## Діаграма: flow доступності у компоненті

```mermaid
flowchart TD
    User --> Keyboard
    Keyboard --> Focus
    Focus --> ARIA
    ARIA --> ScreenReader
    ScreenReader --> Feedback
```

---

## Практичні кейси

-   Діалогове вікно з керуванням фокусом та aria:
    -   Фокус переходить на перший елемент діалогу.
    -   aria-modal, role="dialog", aria-labelledby.
-   Динамічне повідомлення про помилку у формі через aria-live.
-   Список з role="list" та aria-labelledby для групування.

---

## FAQ по accessibility у Vue

-   Як перевірити доступність? — Використовуйте Lighthouse, axe, NVDA.
-   Чи потрібні aria-атрибути для всіх елементів? — Для інтерактивних та динамічних — обов’язково.
-   Як керувати фокусом у діалозі? — Через ref, tabindex, aria-modal.
-   Як зробити форму доступною? — Семантична розмітка, aria, повідомлення про помилки.

---

## Додаткові ресурси

-   [WAI-ARIA Authoring Practices](https://www.w3.org/WAI/ARIA/apg/)
-   [Vue Accessibility Guide](https://vuejs.org/guide/best-practices/accessibility.html)
-   [axe-core](https://github.com/dequelabs/axe-core)
-   [Lighthouse](https://developer.chrome.com/docs/lighthouse/accessibility/)
-   [NVDA Screen Reader](https://www.nvaccess.org/)

---

## Підсумок

Accessibility — це не лише про aria, а про комплексний підхід: семантика, фокус, навігація, тестування. Доступний додаток — це якісний продукт для всіх користувачів.
